import{a as z,g as be}from"./index-ScFTdtO_.js";import{a as he,b as ye,r as ge,c as _e,d as me,e as ve,f as Re,g as ke,h as Me,i as Le}from"./add-base-path-BjOsEuMe.js";import{r as qe}from"./jsx-runtime-BEh3FTX5.js";var N={exports:{}},A={exports:{}},ue;function Pe(){return ue||(ue=1,function(I,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useIntersection",{enumerable:!0,get:function(){return E}});const d=z(),C=he(),o=typeof IntersectionObserver=="function",r=new Map,s=[];function v(c){const u={root:c.root||null,margin:c.rootMargin||""},M=s.find(b=>b.root===u.root&&b.margin===u.margin);let f;if(M&&(f=r.get(M),f))return f;const g=new Map,p=new IntersectionObserver(b=>{b.forEach(y=>{const L=g.get(y.target),U=y.isIntersecting||y.intersectionRatio>0;L&&U&&L(U)})},c);return f={id:u,observer:p,elements:g},s.push(u),r.set(u,f),f}function O(c,u,M){const{id:f,observer:g,elements:p}=v(M);return p.set(c,u),g.observe(c),function(){if(p.delete(c),g.unobserve(c),p.size===0){g.disconnect(),r.delete(f);const y=s.findIndex(L=>L.root===f.root&&L.margin===f.margin);y>-1&&s.splice(y,1)}}}function E(c){let{rootRef:u,rootMargin:M,disabled:f}=c;const g=f||!o,[p,b]=(0,d.useState)(!1),y=(0,d.useRef)(null),L=(0,d.useCallback)(j=>{y.current=j},[]);(0,d.useEffect)(()=>{if(o){if(g||p)return;const j=y.current;if(j&&j.tagName)return O(j,n=>n&&b(n),{root:u==null?void 0:u.current,rootMargin:M})}else if(!p){const j=(0,C.requestIdleCallback)(()=>b(!0));return()=>(0,C.cancelIdleCallback)(j)}},[g,M,u,p,y.current]);const U=(0,d.useCallback)(()=>{b(!1)},[]);return[L,p,U]}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(A,A.exports)),A.exports}var K={exports:{}},ie;function Ce(){return ie||(ie=1,function(I,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getDomainLocale",{enumerable:!0,get:function(){return d}}),ye();function d(C,o,r,s){return!1}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(K,K.exports)),K.exports}var F={exports:{}},le;function je(){return le||(le=1,function(I,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useMergedRef",{enumerable:!0,get:function(){return C}});const d=z();function C(r,s){const v=(0,d.useRef)(null),O=(0,d.useRef)(null);return(0,d.useCallback)(E=>{if(E===null){const c=v.current;c&&(v.current=null,c());const u=O.current;u&&(O.current=null,u())}else r&&(v.current=o(r,E)),s&&(O.current=o(s,E))},[r,s])}function o(r,s){if(typeof r=="function"){const v=r(s);return typeof v=="function"?v:()=>r(null)}else return r.current=s,()=>{r.current=null}}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(F,F.exports)),F.exports}var se;function Ie(){return se||(se=1,function(I,e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return G}});const d=ge(),C=qe(),o=d._(z()),r=_e(),s=me(),v=ve(),O=Re(),E=ke(),c=Me(),u=Pe(),M=Ce(),f=Le(),g=je(),p=new Set;function b(n,R,_,a){if(!(typeof window>"u")&&(0,s.isLocalURL)(R)){if(!a.bypassPrefetchedCheck){const q=typeof a.locale<"u"?a.locale:"locale"in n?n.locale:void 0,k=R+"%"+_+"%"+q;if(p.has(k))return;p.add(k)}n.prefetch(R,_,a).catch(q=>{})}}function y(n){const _=n.currentTarget.getAttribute("target");return _&&_!=="_self"||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&n.nativeEvent.which===2}function L(n,R,_,a,q,k,S,V){const{nodeName:B}=n.currentTarget;if(B.toUpperCase()==="A"&&(y(n)||!(0,s.isLocalURL)(_)))return;n.preventDefault(),(()=>{const w=S??!0;"beforePopState"in R?R[q?"replace":"push"](_,a,{shallow:k,locale:V,scroll:w}):R[q?"replace":"push"](a||_,{scroll:w})})()}function U(n){return typeof n=="string"?n:(0,v.formatUrl)(n)}const G=o.default.forwardRef(function(R,_){let a;const{href:q,as:k,children:S,prefetch:V=null,passHref:B,replace:J,shallow:W,scroll:w,locale:D,onClick:Q,onMouseEnter:X,onTouchStart:Y,legacyBehavior:m=!1,...ae}=R;a=S,m&&(typeof a=="string"||typeof a=="number")&&(a=(0,C.jsx)("a",{children:a}));const t=o.default.useContext(c.RouterContext),Z=V!==!1,{href:P,as:h}=o.default.useMemo(()=>{if(!t){const oe=U(q);return{href:oe,as:k?U(k):oe}}const[l,T]=(0,r.resolveHref)(t,q,!0);return{href:l,as:k?(0,r.resolveHref)(t,k):T||l}},[t,q,k]),x=o.default.useRef(P),ee=o.default.useRef(h);let i;m&&(i=o.default.Children.only(a));const fe=m?i&&typeof i=="object"&&i.ref:_,[te,ne,re]=(0,u.useIntersection)({rootMargin:"200px"}),de=o.default.useCallback(l=>{(ee.current!==h||x.current!==P)&&(re(),ee.current=h,x.current=P),te(l)},[h,P,re,te]),pe=(0,g.useMergedRef)(de,fe);o.default.useEffect(()=>{t&&(!ne||!Z||b(t,P,h,{locale:D}))},[h,P,ne,D,Z,t==null?void 0:t.locale,t]);const H={ref:pe,onClick(l){!m&&typeof Q=="function"&&Q(l),m&&i.props&&typeof i.props.onClick=="function"&&i.props.onClick(l),t&&(l.defaultPrevented||L(l,t,P,h,J,W,w,D))},onMouseEnter(l){!m&&typeof X=="function"&&X(l),m&&i.props&&typeof i.props.onMouseEnter=="function"&&i.props.onMouseEnter(l),t&&b(t,P,h,{locale:D,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(T){!m&&typeof Y=="function"&&Y(T),m&&i.props&&typeof i.props.onTouchStart=="function"&&i.props.onTouchStart(T),t&&b(t,P,h,{locale:D,priority:!0,bypassPrefetchedCheck:!0})}};if((0,O.isAbsoluteUrl)(h))H.href=h;else if(!m||B||i.type==="a"&&!("href"in i.props)){const l=typeof D<"u"?D:t==null?void 0:t.locale,T=(t==null?void 0:t.isLocaleDomain)&&(0,M.getDomainLocale)(h,l,t==null?void 0:t.locales,t==null?void 0:t.domainLocales);H.href=T||(0,f.addBasePath)((0,E.addLocale)(h,l,t==null?void 0:t.defaultLocale))}return m?o.default.cloneElement(i,H):(0,C.jsx)("a",{...ae,...H,children:a})});(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(N,N.exports)),N.exports}var $,ce;function Oe(){return ce||(ce=1,$=Ie()),$}var Ee=Oe();const Se=be(Ee);export{Se as L,je as r};
