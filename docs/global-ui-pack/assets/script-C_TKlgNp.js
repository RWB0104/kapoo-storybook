import{r as J,a as K}from"./_interop_require_wildcard-BpaVepTj.js";import{r as B}from"./jsx-runtime-BEh3FTX5.js";import{r as G}from"./index-OaFZzyAw.js";import{a as Q}from"./index-BCzbi48b.js";import{r as U}from"./head-manager-context.shared-runtime-BqQs_gVk.js";import{r as V}from"./request-idle-callback-DsHw8iFN.js";var M={exports:{}},P={exports:{}},x;function W(){return x||(x=1,function(E,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"setAttributesFromProps",{enumerable:!0,get:function(){return I}});const A={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},j=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function L(a){return["async","defer","noModule"].includes(a)}function I(a,f){for(const[g,d]of Object.entries(f)){if(!f.hasOwnProperty(g)||j.includes(g)||d===void 0)continue;const c=A[g]||g.toLowerCase();a.tagName==="SCRIPT"&&L(c)?a[c]=!!d:a.setAttribute(c,String(d)),(d===!1||a.tagName==="SCRIPT"&&L(c)&&(!d||d==="false"))&&(a.setAttribute(c,""),a.removeAttribute(c))}}(typeof r.default=="function"||typeof r.default=="object"&&r.default!==null)&&typeof r.default.__esModule>"u"&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),E.exports=r.default)}(P,P.exports)),P.exports}var H;function re(){return H||(H=1,function(E,r){"use client";Object.defineProperty(r,"__esModule",{value:!0});function A(t,e){for(var i in e)Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}A(r,{default:function(){return D},handleClientScriptLoad:function(){return R},initScriptLoader:function(){return z}});const j=J(),L=K(),I=B(),a=j._(G()),f=L._(Q()),g=U(),d=W(),c=V(),w=new Map,b=new Set,k=t=>{if(a.default.preinit){t.forEach(e=>{a.default.preinit(e,{as:"style"})});return}if(typeof window<"u"){let e=document.head;t.forEach(i=>{let u=document.createElement("link");u.type="text/css",u.rel="stylesheet",u.href=i,e.appendChild(u)})}},S=t=>{const{src:e,id:i,onLoad:u=()=>{},onReady:h=null,dangerouslySetInnerHTML:s,children:m="",strategy:O="afterInteractive",onError:n,stylesheets:q}=t,l=i||e;if(l&&b.has(l))return;if(w.has(e)){b.add(l),w.get(e).then(u,n);return}const p=()=>{h&&h(),b.add(l)},o=document.createElement("script"),y=new Promise((v,C)=>{o.addEventListener("load",function(_){v(),u&&u.call(this,_),p()}),o.addEventListener("error",function(_){C(_)})}).catch(function(v){n&&n(v)});s?(o.innerHTML=s.__html||"",p()):m?(o.textContent=typeof m=="string"?m:Array.isArray(m)?m.join(""):"",p()):e&&(o.src=e,w.set(e,y)),(0,d.setAttributesFromProps)(o,t),O==="worker"&&o.setAttribute("type","text/partytown"),o.setAttribute("data-nscript",O),q&&k(q),document.body.appendChild(o)};function R(t){const{strategy:e="afterInteractive"}=t;e==="lazyOnload"?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>S(t))}):S(t)}function F(t){document.readyState==="complete"?(0,c.requestIdleCallback)(()=>S(t)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>S(t))})}function N(){[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{const i=e.id||e.getAttribute("src");b.add(i)})}function z(t){t.forEach(R),N()}function T(t){const{id:e,src:i="",onLoad:u=()=>{},onReady:h=null,strategy:s="afterInteractive",onError:m,stylesheets:O,...n}=t,{updateScripts:q,scripts:l,getIsSsr:p,appDir:o,nonce:y}=(0,f.useContext)(g.HeadManagerContext),v=(0,f.useRef)(!1);(0,f.useEffect)(()=>{const _=e||i;v.current||(h&&_&&b.has(_)&&h(),v.current=!0)},[h,e,i]);const C=(0,f.useRef)(!1);if((0,f.useEffect)(()=>{C.current||(s==="afterInteractive"?S(t):s==="lazyOnload"&&F(t),C.current=!0)},[t,s]),(s==="beforeInteractive"||s==="worker")&&(q?(l[s]=(l[s]||[]).concat([{id:e,src:i,onLoad:u,onReady:h,onError:m,...n}]),q(l)):p&&p()?b.add(e||i):p&&!p()&&S(t)),o){if(O&&O.forEach(_=>{a.default.preinit(_,{as:"style"})}),s==="beforeInteractive")return i?(a.default.preload(i,n.integrity?{as:"script",integrity:n.integrity,nonce:y,crossOrigin:n.crossOrigin}:{as:"script",nonce:y,crossOrigin:n.crossOrigin}),(0,I.jsx)("script",{nonce:y,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([i,{...n,id:e}])+")"}})):(n.dangerouslySetInnerHTML&&(n.children=n.dangerouslySetInnerHTML.__html,delete n.dangerouslySetInnerHTML),(0,I.jsx)("script",{nonce:y,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...n,id:e}])+")"}}));s==="afterInteractive"&&i&&a.default.preload(i,n.integrity?{as:"script",integrity:n.integrity,nonce:y,crossOrigin:n.crossOrigin}:{as:"script",nonce:y,crossOrigin:n.crossOrigin})}return null}Object.defineProperty(T,"__nextScript",{value:!0});const D=T;(typeof r.default=="function"||typeof r.default=="object"&&r.default!==null)&&typeof r.default.__esModule>"u"&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),E.exports=r.default)}(M,M.exports)),M.exports}export{W as a,re as r};
