import{j as V}from"./jsx-runtime-BnHmloXs.js";import{c as E,g as ve,r as v}from"./index-r57MSJFk.js";var w,K;function H(){if(K)return w;K=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return w=r,w}var N,M;function ge(){if(M)return N;M=1;var r=typeof E=="object"&&E&&E.Object===Object&&E;return N=r,N}var L,Q;function le(){if(Q)return L;Q=1;var r=ge(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return L=n,L}var C,U;function ye(){if(U)return C;U=1;var r=le(),e=function(){return r.Date.now()};return C=e,C}var G,ee;function Te(){if(ee)return G;ee=1;var r=/\s/;function e(n){for(var i=n.length;i--&&r.test(n.charAt(i)););return i}return G=e,G}var X,re;function pe(){if(re)return X;re=1;var r=Te(),e=/^\s+/;function n(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return X=n,X}var $,te;function de(){if(te)return $;te=1;var r=le(),e=r.Symbol;return $=e,$}var F,ne;function Se(){if(ne)return F;ne=1;var r=de(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function d(u){var f=n.call(u,a),c=u[a];try{u[a]=void 0;var t=!0}catch{}var m=i.call(u);return t&&(f?u[a]=c:delete u[a]),m}return F=d,F}var z,ie;function je(){if(ie)return z;ie=1;var r=Object.prototype,e=r.toString;function n(i){return e.call(i)}return z=n,z}var A,ae;function he(){if(ae)return A;ae=1;var r=de(),e=Se(),n=je(),i="[object Null]",a="[object Undefined]",d=r?r.toStringTag:void 0;function u(f){return f==null?f===void 0?a:i:d&&d in Object(f)?e(f):n(f)}return A=u,A}var W,ue;function _e(){if(ue)return W;ue=1;function r(e){return e!=null&&typeof e=="object"}return W=r,W}var Y,oe;function xe(){if(oe)return Y;oe=1;var r=he(),e=_e(),n="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==n}return Y=i,Y}var B,se;function qe(){if(se)return B;se=1;var r=pe(),e=H(),n=xe(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;function c(t){if(typeof t=="number")return t;if(n(t))return i;if(e(t)){var m=typeof t.valueOf=="function"?t.valueOf():t;t=e(m)?m+"":m}if(typeof t!="string")return t===0?t:+t;t=r(t);var b=d.test(t);return b||u.test(t)?f(t.slice(2),b?2:8):a.test(t)?i:+t}return B=c,B}var Z,fe;function Oe(){if(fe)return Z;fe=1;var r=H(),e=ye(),n=qe(),i="Expected a function",a=Math.max,d=Math.min;function u(f,c,t){var m,b,S,y,l,T,j=0,h=!1,g=!1,q=!0;if(typeof f!="function")throw new TypeError(i);c=n(c)||0,r(t)&&(h=!!t.leading,g="maxWait"in t,S=g?a(n(t.maxWait)||0,c):S,q="trailing"in t?!!t.trailing:q);function O(s){var _=m,R=b;return m=b=void 0,j=s,y=f.apply(R,_),y}function I(s){return j=s,l=setTimeout(p,c),h?O(s):y}function k(s){var _=s-T,R=s-j,J=c-_;return g?d(J,S-R):J}function o(s){var _=s-T,R=s-j;return T===void 0||_>=c||_<0||g&&R>=S}function p(){var s=e();if(o(s))return x(s);l=setTimeout(p,k(s))}function x(s){return l=void 0,q&&m?O(s):(m=b=void 0,y)}function me(){l!==void 0&&clearTimeout(l),j=0,m=T=b=l=void 0}function be(){return l===void 0?y:x(e())}function P(){var s=e(),_=o(s);if(m=arguments,b=this,T=s,_){if(l===void 0)return I(T);if(g)return clearTimeout(l),l=setTimeout(p,c),O(T)}return l===void 0&&(l=setTimeout(p,c)),y}return P.cancel=me,P.flush=be,P}return Z=u,Z}var D,ce;function Re(){if(ce)return D;ce=1;var r=Oe(),e=H(),n="Expected a function";function i(a,d,u){var f=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return e(u)&&(f="leading"in u?!!u.leading:f,c="trailing"in u?!!u.trailing:c),r(a,d,{leading:f,maxWait:d,trailing:c})}return D=i,D}var Ee=Re();const Ie=ve(Ee);function ke({defaultZoom:r=1,zoomUnit:e=.05,controller:n,onZoomChange:i,onMouseDown:a,onMouseUp:d,onWheel:u,children:f,...c}){const t=v.useRef(null),[m,b]=v.useState(r),[S,y]=v.useState(),[l,T]=v.useState({x:0,y:0}),j=v.useCallback(o=>{b(o)},[]),h=v.useCallback(()=>{b(o=>o+e)},[e]),g=v.useCallback(()=>{b(o=>{const p=(o-e)*10/10;return p<=e?o:p})},[e]),q=v.useCallback(()=>{b(r),T({x:0,y:0}),y(void 0)},[r]),O=v.useCallback(o=>{a==null||a(o),o.button===0&&y({x:o.clientX-(l.x||0),y:o.clientY-(l.y||0)})},[a,l]),I=v.useCallback(o=>{d==null||d(o),y(void 0)},[d]),k=v.useCallback(o=>{u==null||u(o),o.deltaY>0?h():g()},[u,h,g]);return v.useEffect(()=>{const o=t.current,p=Ie(x=>{S&&x.clientX>0&&x.clientY>0&&T({x:x.clientX-S.x,y:x.clientY-S.y})},50);return o&&window.addEventListener("mousemove",p),()=>{o&&window.removeEventListener("mousemove",p)}},[S,h,g]),v.useEffect(()=>{i==null||i(m)},[m,i]),v.useLayoutEffect(()=>{n==null||n({reset:q,zoom:j,zoomIn:h,zoomOut:g})},[n,j,h,g,q]),V.jsx("div",{className:"flex size-full cursor-move items-center justify-center overflow-hidden","data-component":"ZoomPanner",ref:t,onMouseDown:O,onMouseUp:I,onWheel:k,...c,children:V.jsx("div",{className:"pointer-events-none size-full select-none",draggable:!1,style:{transform:`translate(${l.x}px, ${l.y}px) scale(${m})`,transformOrigin:"center"},children:f})})}ke.__docgenInfo={description:`줌패너 organism 컴포넌트 반환 메서드

@param {ZoomPannerProps} param0: ZoomPannerProps

@returns {React.JSX.Element} JSX`,methods:[],displayName:"ZoomPanner",props:{defaultZoom:{required:!1,tsType:{name:"number"},description:"기본 줌",defaultValue:{value:"1",computed:!1}},zoomUnit:{required:!1,tsType:{name:"number"},description:"줌 단위",defaultValue:{value:"0.05",computed:!1}},controller:{required:!1,tsType:{name:"signature",type:"function",raw:"(func: ZoomPannerControllerProps) => void",signature:{arguments:[{type:{name:"ZoomPannerControllerProps"},name:"func"}],return:{name:"void"}}},description:"컨트롤러 반환 메서드"},onZoomChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(zoom: number) => void",signature:{arguments:[{type:{name:"number"},name:"zoom"}],return:{name:"void"}}},description:"줌 변경 이벤트 메서드"}},composes:["DetailedHTMLProps"]};export{ke as Z};
